<!doctype html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=1.0,user-scalable=no" />
    <meta name="description" content="ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ - ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุฏููู ูุงููุงุช" />
    <title>ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ</title>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    
    <!-- ููุชุจุงุช ุงูุชุตุฏูุฑ -->
    <script src="https://cdn.jsdelivr.net/npm/exceljs@4.4.0/dist/exceljs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    
    <!-- ุฃููููุงุช -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- ุฎุทูุท -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style2.css">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ูุญูุธุฉ ุงูุฏููู">
    <meta name="application-name" content="ูุญูุธุฉ ุงูุฏููู">
    <link rel="icon" type="image/png" href="https://i.ibb.co/PZDXdwtt/wallet-icon.png">
    <link rel="apple-touch-icon" href="https://i.ibb.co/PZDXdwtt/wallet-icon.png">

    <!-- ุดุงุดุฉ ุงูุชุญููู -->
    <style>
      #splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.5s;
      }
      
      .splash-logo {
        width: 120px;
        height: 120px;
        margin-bottom: 20px;
        animation: pulse 2s infinite;
      }
      
      .splash-text {
        color: white;
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
      }
      
      .splash-subtext {
        color: #94a3b8;
        font-size: 16px;
      }
      
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
    </style>

    <!-- ุชุนุฑูู ูุชุบูุฑุงุช Firebase ูู ุงูุจูุฆุฉ -->
    <script>
        window.FIREBASE_CONFIG = {
            apiKey: "AIzaSyB1KgAYSe--Vq0ninrIaMDSh34llRJfW9Y",
            authDomain: "qat-debt-management-system.firebaseapp.com",
            databaseURL: "https://qat-debt-management-system-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "qat-debt-management-system",
            storageBucket: "qat-debt-management-system.firebasestorage.app",
            messagingSenderId: "827162170021",
            appId: "1:827162170021:web:ba352c809d7a4fc5b1f34c"
        };
    </script>
</head>
<body>

<!-- ุดุงุดุฉ ุงูุชุญููู -->
<div id="splash-screen">
  <img src="https://i.ibb.co/PZDXdwtt/wallet-icon.png" alt="ูุญูุธุฉ ุงูุฏููู" class="splash-logo">
  <div class="splash-text">ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ</div>
  <div class="splash-subtext">ุฌุงุฑู ุงูุชุญููู...</div>
</div>

<!-- ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู -->
<div id="loginPage" class="page active">
    <div id="loginCard">
        <div style="margin-bottom: 24px;">
            <img src="https://i.ibb.co/PZDXdwtt/wallet-icon.png" alt="ุฃููููุฉ ุงููุญูุธุฉ" style="width: 80px; height: 80px; margin-bottom: 16px;">
            <h2>ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ</h2>
            <p style="color: var(--muted); margin-top: 8px;">ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุฏููู ูุงููุงุช</p>
        </div>
        
        <input id="loginName" type="text" placeholder="๐ค ุงุณู ุงููุณุชุฎุฏู" />
        <input id="loginPassword" type="password" placeholder="๐ ูููุฉ ุงููุฑูุฑ" />
        
        <div class="login-options">
            <button id="btnLogin" class="primary">
                <i class="fas fa-sign-in-alt"></i>
                ุชุณุฌูู ุงูุฏุฎูู
            </button>
            <button id="btnRegister" class="success">
                <i class="fas fa-user-plus"></i>
                ุฅูุดุงุก ุญุณุงุจ
            </button>
        </div>

        <div style="display: flex; align-items: center; margin: 20px 0; color: var(--muted);">
            <div style="flex: 1; height: 1px; background: rgba(255,255,255,0.2);"></div>
            <div style="padding: 0 15px; font-size: 14px;">ุฃู</div>
            <div style="flex: 1; height: 1px; background: rgba(255,255,255,0.2);"></div>
        </div>

        <button id="googleSignInBtn" class="ghost" style="width: 100%; border-color: #db4437; color: #db4437;">
            <i class="fab fa-google" style="color: #db4437;"></i>
            ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ Google
        </button>
        
        <p id="loginMessage" style="color: var(--danger); font-size: 14px; margin-top: 16px; min-height: 20px;"></p>
        
        <div style="margin-top: 24px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.1);">
            <p style="color: var(--muted); font-size: 12px;">
                <i class="fas fa-shield-alt"></i>
                ุจูุงูุงุชู ูุญููุฉ ููุคููุฉ ุจุงููุงูู
            </p>
        </div>
    </div>
</div>

<!-- ุตูุญุฉ ุงูุชุทุจูู ุงูุฑุฆูุณูุฉ -->
<div id="appPage" class="page hidden">
    <!-- ุดุฑูุท ุงูุชููู -->
    <div class="nav-container" id="navContainer">
        <div class="nav-header">
            <div class="nav-title">
                <img src="https://i.ibb.co/PZDXdwtt/wallet-icon.png" alt="ุฃููููุฉ" style="width: 32px; height: 32px; margin-left: 10px;">
                <div class="nav-title-text">
                    <h1>ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ</h1>
                    <p id="welcomeText">ูุฑุญุจุงู ุจู</p>
                </div>
            </div>
            
            <div class="nav-controls">
                <div id="currentDateTime"></div>
                <button id="logoutBtn" class="danger small">
                    <i class="fas fa-sign-out-alt"></i>
                    ุฎุฑูุฌ
                </button>
            </div>
        </div>

        <div class="nav-buttons">
            <button id="navDashboard" class="warning nav-btn active" data-page="dashboardPage">
                <i class="fas fa-tachometer-alt"></i>
                ุงูุฑุฆูุณูุฉ
            </button>
            <button id="navDebts" class="primary nav-btn" data-page="debtsPage">
                <i class="fas fa-hand-holding-usd"></i>
                ุงูุฏููู
            </button>
            <button id="navQat" class="success nav-btn" data-page="qatPage">
                <i class="fas fa-leaf"></i>
                ุงููุงุช
            </button>
            <button id="navSummary" class="info nav-btn" data-page="summaryPage">
                <i class="fas fa-chart-pie"></i>
                ุงูุชูุงุฑูุฑ
            </button>
            <button id="navSettings" class="ghost nav-btn" data-page="settingsPage">
                <i class="fas fa-cog"></i>
                ุงูุฅุนุฏุงุฏุงุช
            </button>
        </div>
    </div>

    <!-- ุตูุญุงุช ุงููุญุชูู -->
    <div id="dashboardPage" class="content-page active">
        <div class="card">
            <h2><i class="fas fa-tachometer-alt"></i> ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ</h2>
            <p style="color: var(--muted); margin-bottom: 24px;">ูุธุฑุฉ ุดุงููุฉ ุนูู ุฃุฏุงุก ุฃุนูุงูู</p>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="dashboardTotalDebts">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุฏููู</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="dashboardTotalPaid">0</div>
                    <div class="stat-label">ุงููุณุฏุฏ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="dashboardTotalRemaining">0</div>
                    <div class="stat-label">ุงููุชุจูู</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="dashboardTotalQat">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงููุงุช</div>
                </div>
            </div>
        </div>

        <div class="quick-actions">
            <div class="quick-action-btn" id="quickAddDebt">
                <i class="fas fa-plus-circle"></i>
                <div>ุฅุถุงูุฉ ุฏูู</div>
            </div>
            <div class="quick-action-btn" id="quickAddPayment">
                <i class="fas fa-money-bill-wave"></i>
                <div>ุชุณุฏูุฏ ุฏูุนุฉ</div>
            </div>
            <div class="quick-action-btn" id="quickAddQat">
                <i class="fas fa-leaf"></i>
                <div>ุชุณุฌูู ูุงุช</div>
            </div>
            <div class="quick-action-btn" id="quickExport">
                <i class="fas fa-file-export"></i>
                <div>ุชุตุฏูุฑ ุชูุฑูุฑ</div>
            </div>
        </div>

        <div class="card">
            <h3><i class="fas fa-chart-line"></i> ุงูุฏููู ุงูุฃุฎูุฑุฉ</h3>
            <div id="recentDebts"></div>
        </div>

        <div class="card">
            <h3><i class="fas fa-history"></i> ุขุฎุฑ ุงูุชุณุฏูุฏุงุช</h3>
            <div id="recentPayments"></div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงูุฏููู -->
    <div id="debtsPage" class="content-page">
        <div class="search-container">
            <input type="text" id="searchDebts" placeholder="๐ ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุชุงุฑูุฎ... ุซู ุงุถุบุท Enter ููุณุฌู ุงูุชูุตููู" />
            <button id="quickSearchBtn" class="small primary search-btn">
                <i class="fas fa-search"></i>
                ุจุญุซ
            </button>
        </div>

        <div class="summary-cards">
            <div class="summary-card total">
                <h3><i class="fas fa-hand-holding-usd"></i> ุฅุฌูุงูู ุงูุฏููู</h3>
                <p id="totalDebts">0 ุฑูุงู</p>
            </div>
            <div class="summary-card paid">
                <h3><i class="fas fa-check-circle"></i> ุงููุณุฏุฏ</h3>
                <p id="totalPaid">0 ุฑูุงู</p>
            </div>
            <div class="summary-card remaining">
                <h3><i class="fas fa-clock"></i> ุงููุชุจูู</h3>
                <p id="totalRemaining">0 ุฑูุงู</p>
            </div>
        </div>

        <div class="card">
            <h3><i class="fas fa-plus-circle"></i> ุชุณุฌูู / ุชุนุฏูู ุงูุฏูู</h3>
            <input id="debtName" type="text" placeholder="๐ค ุงุณู ุงููุชุฏูู" />
            <input id="debtAmount" type="number" placeholder="๐ฐ ุงููุจูุบ ุงูุฅุฌูุงูู" min="1" max="1000000" />
            
            <div class="date-selection">
                <input id="debtDate" type="date" />
                <div class="day-selector" id="daySelectorDebt">
                    <button type="button" id="showDaysDebt" class="small ghost">
                        <i class="fas fa-calendar-alt"></i>
                        ุงุฎุชุฑ ุงูููู
                    </button>
                    <div class="days-dropdown" id="daysDropdownDebt"></div>
                </div>
                <button id="setTodayDebt" class="small ghost">
                    <i class="fas fa-calendar-day"></i>
                    ุงูููู
                </button>
                <button id="setYesterdayDebt" class="small ghost">
                    <i class="fas fa-calendar-minus"></i>
                    ุฃูุณ
                </button>
            </div>
            
            <select id="debtTime">
                <option value="ุตุจุงุญุงู">๐ ุตุจุงุญุงู</option>
                <option value="ูุณุงุกู">๐ ูุณุงุกู</option>
            </select>
            
            <div style="display: flex; gap: 12px; margin-top: 16px;">
                <button id="saveDebt" class="primary" style="flex: 2;">
                    <i class="fas fa-save"></i>
                    ุญูุธ ุงูุฏูู
                </button>
                <button id="clearDebt" class="ghost" style="flex: 1;">
                    <i class="fas fa-broom"></i>
                    ุชูุฑูุบ
                </button>
            </div>
        </div>

        <div class="card">
            <h3><i class="fas fa-money-bill-wave"></i> ุชุณุฏูุฏ ุฏูุนุฉ</h3>
            <select id="debtorSelect">
                <option value="">๐ค ุงุฎุชุฑ ุงููุชุฏูู</option>
            </select>
            <input id="paymentAmount" type="number" placeholder="๐ฐ ูุจูุบ ุงูุชุณุฏูุฏ" min="1" />
            
            <div class="date-selection">
                <input id="paymentDate" type="date" />
                <div class="day-selector" id="daySelectorPayment">
                    <button type="button" id="showDaysPayment" class="small ghost">
                        <i class="fas fa-calendar-alt"></i>
                        ุงุฎุชุฑ ุงูููู
                    </button>
                    <div class="days-dropdown" id="daysDropdownPayment"></div>
                </div>
                <button id="setTodayPayment" class="small ghost">
                    <i class="fas fa-calendar-day"></i>
                    ุงูููู
                </button>
                <button id="setYesterdayPayment" class="small ghost">
                    <i class="fas fa-calendar-minus"></i>
                    ุฃูุณ
                </button>
            </div>
            
            <button id="savePayment" class="success">
                <i class="fas fa-check-circle"></i>
                ุชุณุฌูู ุงูุชุณุฏูุฏ
            </button>
        </div>

        <div class="card">
            <h3><i class="fas fa-list"></i> ูุงุฆูุฉ ุงูุฏููู</h3>
            <div id="debtsList"></div>
        </div>

        <!-- ุณุฌู ุงูุฏูู ุงูุชูุตููู -->
        <div class="card debt-history hidden" id="debtHistoryCard">
            <h3><i class="fas fa-history"></i> ุณุฌู ุงูุฏูู ุงูุชูุตููู</h3>
            <button id="closeDebtHistory" class="small ghost" style="position: absolute; left: 20px; top: 20px;">
                <i class="fas fa-times"></i>
                ุฅุบูุงู
            </button>
            <div class="export-buttons">
                <button id="exportExcel" class="primary">
                    <i class="fas fa-file-excel"></i>
                    ุชุตุฏูุฑ Excel
                </button>
                <button id="exportWord" class="success">
                    <i class="fas fa-file-word"></i>
                    ุชุตุฏูุฑ Word
                </button>
            </div>
            <div id="debtHistoryList"></div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงููุงุช -->
    <div id="qatPage" class="content-page">
        <div class="search-container">
            <input type="text" id="searchQat" placeholder="๐ ุงุจุญุซ ูู ุงููุงุช..." />
            <button id="searchQatBtn" class="small primary search-btn">
                <i class="fas fa-search"></i>
                ุจุญุซ
            </button>
        </div>

        <div class="card">
            <h3><i class="fas fa-leaf"></i> ุชุณุฌูู ุงููุงุช ุงููููู</h3>
            <input id="qatType" type="text" placeholder="๐ฟ ููุน ุงููุงุช" />
            <input id="qatCountInput" type="number" placeholder="๐ข ุงูุนุฏุฏ" min="1" />
            
            <div class="date-selection">
                <input id="qatDate" type="date" />
                <div class="day-selector" id="daySelectorQat">
                    <button type="button" id="showDaysQat" class="small ghost">
                        <i class="fas fa-calendar-alt"></i>
                        ุงุฎุชุฑ ุงูููู
                    </button>
                    <div class="days-dropdown" id="daysDropdownQat"></div>
                </div>
                <button id="setTodayQat" class="small ghost">
                    <i class="fas fa-calendar-day"></i>
                    ุงูููู
                </button>
                <button id="setYesterdayQat" class="small ghost">
                    <i class="fas fa-calendar-minus"></i>
                    ุฃูุณ
                </button>
            </div>
            
            <div style="display: flex; gap: 12px; margin-top: 16px;">
                <button id="saveQat" class="primary" style="flex: 2;">
                    <i class="fas fa-save"></i>
                    ุญูุธ
                </button>
                <button id="clearQat" class="ghost" style="flex: 1;">
                    <i class="fas fa-broom"></i>
                    ุชูุฑูุบ
                </button>
            </div>
        </div>

        <div class="card">
            <h3><i class="fas fa-history"></i> ุณุฌู ุงููุงุช</h3>
            <div id="qatList"></div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงูููุฎุต -->
    <div id="summaryPage" class="content-page">
        <div class="card">
            <h3><i class="fas fa-chart-pie"></i> ููุฎุต ุงูุฏููู ุงูุชูุตููู</h3>
            <div class="export-buttons">
                <button id="exportSummaryExcel" class="primary">
                    <i class="fas fa-file-excel"></i>
                    ุชุตุฏูุฑ Excel
                </button>
                <button id="exportSummaryWord" class="success">
                    <i class="fas fa-file-word"></i>
                    ุชุตุฏูุฑ Word
                </button>
            </div>
            <div id="debtsSummary"></div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช -->
    <div id="settingsPage" class="content-page">
        <div class="card">
            <h3><i class="fas fa-cog"></i> ุงูุฅุนุฏุงุฏุงุช ูุงูุฅุฏุงุฑุฉ</h3>
            
            <div class="management-buttons">
                <button id="changePassword" class="warning">
                    <i class="fas fa-key"></i>
                    ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
                </button>
                <button id="deleteData" class="danger">
                    <i class="fas fa-trash"></i>
                    ุญุฐู ุฌููุน ุงูุจูุงูุงุช
                </button>
                <button id="exportAllData" class="primary">
                    <i class="fas fa-download"></i>
                    ูุณุฎ ุงุญุชูุงุทู
                </button>
                <button id="importData" class="success">
                    <i class="fas fa-upload"></i>
                    ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช
                </button>
                <button id="aboutApp" class="info" onclick="showAboutPage()">
                    <i class="fas fa-info-circle"></i>
                    ุญูู ุงูุชุทุจูู
                </button>
                <button id="helpCenter" class="ghost" onclick="showHelpPage()">
                    <i class="fas fa-question-circle"></i>
                    ูุฑูุฒ ุงููุณุงุนุฏุฉ
                </button>
            </div>
        </div>

        <div class="card">
            <h3><i class="fas fa-chart-bar"></i> ุฅุญุตุงุฆูุงุช ุงููุธุงู</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="statsTotalDebts">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุฏููู</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="statsTotalRecords">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุณุฌูุงุช</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="statsActiveDebts">0</div>
                    <div class="stat-label">ุงูุฏููู ุงููุดุทุฉ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="statsQatRecords">0</div>
                    <div class="stat-label">ุณุฌูุงุช ุงููุงุช</div>
                </div>
            </div>
            <div id="backupStatus" style="font-size: 10px; color: var(--muted); margin-top: 5px; text-align: center;"></div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุญูู ุงูุชุทุจูู -->
    <div id="aboutPage" class="content-page">
        <div class="card">
            <h2><i class="fas fa-info-circle"></i> ุญูู ุงูุชุทุจูู</h2>
            
            <div class="about-section">
                <img src="https://i.ibb.co/PZDXdwtt/wallet-icon.png" 
                     alt="ุฃููููุฉ ุงูุชุทุจูู" 
                     style="width: 100px; height: 100px; margin: 20px auto; display: block;">
                
                <h3>ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ</h3>
                <p>ุงูุฅุตุฏุงุฑ: 2.0.0</p>
                <p>ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ: 2025</p>
            </div>
            
            <div class="about-section">
                <h4><i class="fas fa-code"></i> ุงููููุฒุงุช</h4>
                <ul>
                    <li>ุฅุฏุงุฑุฉ ุงูุฏููู ุงููุชุนุฏุฏุฉ</li>
                    <li>ุชุชุจุน ูุฏููุนุงุช ุงููุงุช</li>
                    <li>ุนูู ุจุฏูู ุฅูุชุฑูุช</li>
                    <li>ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ</li>
                    <li>ูุณุฎ ุงุญุชูุงุทู</li>
                </ul>
            </div>
            
            <div class="about-section">
                <h4><i class="fas fa-user"></i> ุงููุทูุฑ</h4>
                <p>ุนุจุฏุงููุฏูุณ ุงูุดูุจุงูู</p>
                <p>ูุธุงู ุฅุฏุงุฑุฉ ูุชูุงูู ููุฃุนูุงู ุงูุตุบูุฑุฉ</p>
            </div>
            
            <div class="contact-section">
                <h4><i class="fas fa-envelope"></i> ุงุชุตู ุจูุง</h4>
                <button class="success" onclick="contactDeveloper()" style="width:100%; margin-top:10px;">
                    <i class="fas fa-paper-plane"></i> ูุฑุงุณูุฉ ุงููุทูุฑ
                </button>
            </div>
            
            <button class="primary" onclick="goBackToSettings()" style="width:100%; margin-top:20px;">
                <i class="fas fa-arrow-left"></i> ุงูุนูุฏุฉ ููุฅุนุฏุงุฏุงุช
            </button>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงููุณุงุนุฏุฉ -->
    <div id="helpPage" class="content-page">
        <div class="card">
            <h2><i class="fas fa-question-circle"></i> ูุฑูุฒ ุงููุณุงุนุฏุฉ</h2>
            
            <div class="faq-section">
                <h3>โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</h3>
                
                <div class="faq-item">
                    <button class="faq-question">ููู ุฃุถูู ุฏูู ุฌุฏูุฏุ</button>
                    <div class="faq-answer">
                        <p>1. ุงูุชูู ุฅูู ุตูุญุฉ "ุงูุฏููู"</p>
                        <p>2. ุงููุฃ ุงุณู ุงููุชุฏูู ูุงููุจูุบ</p>
                        <p>3. ุงุถุบุท "ุญูุธ ุงูุฏูู"</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">ูููุฉ ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉุ</button>
                    <div class="faq-answer">
                        <p>1. ุงูุชูู ุฅูู "ุงูุฅุนุฏุงุฏุงุช"</p>
                        <p>2. ุงุถุบุท "ูุณุฎ ุงุญุชูุงุทู"</p>
                        <p>3. ุณูุชู ุญูุธ ููู ุนูู ูุงุชูู</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">ููู ูุนูู ูุถุน ุนุฏู ุงูุงุชุตุงูุ</button>
                    <div class="faq-answer">
                        <p>1. ุงูุชุทุจูู ูุญูุธ ุงูุจูุงูุงุช ุชููุงุฆูุงู</p>
                        <p>2. ุนูุฏ ุนุฏู ุงูุงุชุตุงูุ ุชุธูุฑ ุงูุจูุงูุงุช ุงููุฎุฒูุฉ</p>
                        <p>3. ุนูุฏ ุงูุนูุฏุฉ ููุงุชุตุงูุ ุชุชู ุงููุฒุงููุฉ</p>
                    </div>
                </div>
            </div>
            
            <div class="contact-section">
                <h3>๐ ูู ุชุฌุฏ ุฅุฌุงุจุชูุ</h3>
                <button class="success" onclick="contactSupport()" style="width:100%; margin-top:10px;">
                    <i class="fas fa-headset"></i> ุงุชุตู ุจุงูุฏุนู ุงูููู
                </button>
            </div>

            <button class="primary" onclick="goBackToSettings()" style="width:100%; margin-top:20px;">
                <i class="fas fa-arrow-left"></i> ุงูุนูุฏุฉ ููุฅุนุฏุงุฏุงุช
            </button>
        </div>
    </div>

</div>

<!-- ุฑุณุงูุฉ ุนุฏู ุงูุงุชุตุงู -->
<div id="offlineMessage" class="hidden" style="
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #f59e0b;
  color: white;
  padding: 10px;
  text-align: center;
  z-index: 10000;
  font-weight: bold;
">
  โก ุฃูุช ูู ูุถุน ุนุฏู ุงูุงุชุตุงู. ุงูุจูุงูุงุช ูุฎุฒูุฉ ูุญููุงู.
</div>

<!-- ุญุงูุฉ ุงููุฒุงููุฉ -->
<div id="syncStatus" class="sync-status hidden">
    <span id="syncIcon">โป</span>
    <span id="syncText">ุฌุงุฑู ุงููุฒุงููุฉ...</span>
</div>

<!-- ูุงูุฐุฉ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ -->
<div id="changePasswordModal" class="modal hidden">
    <div class="modal-content">
        <h3 style="margin-bottom:24px;display:flex;align-items:center;gap:12px;">
            <i class="fas fa-key"></i>
            ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
        </h3>
        
        <input type="password" id="currentPassword" placeholder="๐ ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ" />
        <input type="password" id="newPassword" placeholder="๐ ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ" />
        <input type="password" id="confirmPassword" placeholder="โ ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ" />
        
        <div style="display:flex;gap:12px;margin-top:24px;">
            <button id="saveNewPassword" class="primary" style="flex:2;">ุญูุธ</button>
            <button id="cancelChangePassword" class="ghost" style="flex:1;">ุฅูุบุงุก</button>
        </div>
    </div>
</div>

<!-- ูุงูุฐุฉ ุชุฃููุฏ ุงูุญุฐู -->
<div id="deleteConfirmModal" class="modal hidden">
    <div class="modal-content">
        <div style="text-align: center; margin-bottom: 20px;">
            <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: var(--danger); margin-bottom: 15px;"></i>
            <h3 style="margin: 0 0 10px 0;">ุชุฃููุฏ ุงูุญุฐู</h3>
            <p style="color: var(--muted); margin: 0;">
                ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุฌููุน ุงูุจูุงูุงุชุ
            </p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button id="confirmDeleteAll" class="danger" style="flex: 1;">
                <i class="fas fa-trash"></i> ูุนูุ ุงุญุฐู ุงููู
            </button>
            <button id="cancelDeleteAll" class="ghost" style="flex: 1;">
                <i class="fas fa-times"></i> ุฅูุบุงุก
            </button>
        </div>
    </div>
</div>

<!-- ูุงูุฐุฉ ุฎูุงุฑุงุช ุงูุชุตุฏูุฑ -->
<div id="exportModal" class="modal hidden">
    <div class="modal-content">
        <h3 style="margin-bottom:20px;display:flex;align-items:center;gap:10px;">
            <i class="fas fa-file-export"></i>
            ุฎูุงุฑุงุช ุงูุชุตุฏูุฑ
        </h3>
        <p style="color:var(--muted);margin-bottom:20px;">ุงุฎุชุฑ ููุน ุงูุชูุฑูุฑ ุงูุฐู ุชุฑูุฏ ุชุตุฏูุฑู:</p>
        
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:25px;">
            <button id="exportDebtsExcelBtn" class="primary">
                <i class="fas fa-file-excel"></i>
                ุฏููู - Excel
            </button>
            <button id="exportDebtsWordBtn" class="success">
                <i class="fas fa-file-word"></i>
                ุฏููู - Word
            </button>
            <button id="exportSummaryExcelBtn" class="primary">
                <i class="fas fa-file-excel"></i>
                ููุฎุต - Excel
            </button>
            <button id="exportSummaryWordBtn" class="success">
                <i class="fas fa-file-word"></i>
                ููุฎุต - Word
            </button>
        </div>
        
        <div style="display:flex;gap:10px;">
            <button id="closeExportModal" class="ghost" style="flex:1;">ุฅูุบุงุก</button>
        </div>
    </div>
</div>

<!-- JavaScript -->
<script>
// ุชุณุฌูู Service Worker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('sw.js')
      .then(function(registration) {
        console.log('Service Worker ูุณุฌู ุจูุฌุงุญ');
      })
      .catch(function(error) {
        console.log('ูุดู ุชุณุฌูู Service Worker:', error);
      });
  });
}

// ุฅุฎูุงุก ุดุงุดุฉ ุงูุชุญููู
window.addEventListener('load', function() {
  setTimeout(function() {
    const splashScreen = document.getElementById('splash-screen');
    if (splashScreen) {
      splashScreen.style.opacity = '0';
      setTimeout(() => {
        splashScreen.style.display = 'none';
      }, 500);
    }
  }, 1500);
});
</script>

<!-- ุญู ุทุงุฑุฆ ููุฃุฒุฑุงุฑ (ูุนูู 100%) -->
<script>
// ุชุฃูุฏ ูู ุชุญููู ุงูุตูุญุฉ ุฃููุงู
setTimeout(function() {
    console.log('๐ ุจุฏุก ุชูุนูู ุงูุฃุฒุฑุงุฑ...');
    
    // 1. ุฏุงูุฉ ุนุฑุถ ุตูุญุฉ ุญูู
    window.showAboutPage = function() {
        console.log('๐ฑ ูุชุญ ุตูุญุฉ ุญูู ุงูุชุทุจูู');
        // ุฅุฎูุงุก ุฌููุน ุงูุตูุญุงุช
        document.querySelectorAll('.content-page').forEach(page => {
            page.classList.remove('active');
        });
        // ุฅุธูุงุฑ ุตูุญุฉ ุญูู
        document.getElementById('aboutPage').classList.add('active');
        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.classList.remove('active');
        });
    };
    
    // 2. ุฏุงูุฉ ุนุฑุถ ุตูุญุฉ ุงููุณุงุนุฏุฉ
    window.showHelpPage = function() {
        console.log('๐ฑ ูุชุญ ุตูุญุฉ ุงููุณุงุนุฏุฉ');
        // ุฅุฎูุงุก ุฌููุน ุงูุตูุญุงุช
        document.querySelectorAll('.content-page').forEach(page => {
            page.classList.remove('active');
        });
        // ุฅุธูุงุฑ ุตูุญุฉ ุงููุณุงุนุฏุฉ
        document.getElementById('helpPage').classList.add('active');
        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.classList.remove('active');
        });
    };
    
    // 3. ุฏุงูุฉ ุงูุงุชุตุงู ุจุงููุทูุฑ (ูุงุชุณุงุจ)
    window.contactDeveloper = function() {
        console.log('๐ ุงูุงุชุตุงู ุจุงููุทูุฑ ุนูู ูุงุชุณุงุจ');
        const phone = '966778942829';
        const message = 'ูุฑุญุจุงูุ ุฃูุฏ ุงูุงุณุชูุณุงุฑ ุนู ุชุทุจูู ูุญูุธุฉ ุงูุฏููู ุงูุฐููุฉ';
        const url = 'https://wa.me/' + phone + '?text=' + encodeURIComponent(message);
        window.open(url, '_blank');
        alert('ูุชู ูุชุญ ูุงุชุณุงุจ ููุฑูู: ' + phone);
    };
    
    // 4. ุฏุงูุฉ ุงูุงุชุตุงู ุจุงูุฏุนู (ูุงุชุณุงุจ)
    window.contactSupport = function() {
        console.log('๐ ุงูุงุชุตุงู ุจุงูุฏุนู ุงูููู');
        const phone = '966778942829';
        const message = 'ูุฑุญุจุงูุ ุฃุญุชุงุฌ ุฏุนู ููู ูุชุทุจูู ูุญูุธุฉ ุงูุฏููู';
        const url = 'https://wa.me/' + phone + '?text=' + encodeURIComponent(message);
        window.open(url, '_blank');
        alert('ูุชู ูุชุญ ูุงุชุณุงุจ ููุฏุนู ุงูููู');
    };
    
    // 5. ุฏุงูุฉ ุงูุนูุฏุฉ ููุฅุนุฏุงุฏุงุช
    window.goBackToSettings = function() {
        console.log('๐ ุงูุนูุฏุฉ ุฅูู ุงูุฅุนุฏุงุฏุงุช');
        // ุฅุฎูุงุก ุฌููุน ุงูุตูุญุงุช
        document.querySelectorAll('.content-page').forEach(page => {
            page.classList.remove('active');
        });
        // ุฅุธูุงุฑ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช
        document.getElementById('settingsPage').classList.add('active');
        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-page') === 'settingsPage') {
                btn.classList.add('active');
                            }
        });
    };
    
    // 6. ุฏุงูุฉ ุนุฑุถ ุงูุตูุญุฉ ุงูุนุงูุฉ
    window.showPage = function(pageId) {
        console.log('๐ ุนุฑุถ ุงูุตูุญุฉ:', pageId);
        // ุฅุฎูุงุก ุฌููุน ุงูุตูุญุงุช
        document.querySelectorAll('.content-page').forEach(page => {
            page.classList.remove('active');
        });
        // ุฅุธูุงุฑ ุงูุตูุญุฉ ุงููุทููุจุฉ
        const pageElement = document.getElementById(pageId);
        if (pageElement) {
            pageElement.classList.add('active');
        }
        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-page') === pageId) {
                btn.classList.add('active');
            }
        });
    };
    
    // 7. ุฅุถุงูุฉ ุงูุฃุญุฏุงุซ ูุฃุฒุฑุงุฑ ุงูุชููู
    document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const pageId = this.getAttribute('data-page');
            window.showPage(pageId);
        });
    });
    
    // 8. ุชูุนูู ุฃุฒุฑุงุฑ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
    setTimeout(function() {
        document.querySelectorAll('.faq-question').forEach(btn => {
            btn.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                const isVisible = answer.style.display === 'block';
                
                // ุฅุบูุงู ุฌููุน ุงูุฅุฌุงุจุงุช
                document.querySelectorAll('.faq-answer').forEach(ans => {
                    ans.style.display = 'none';
                });
                
                // ุฅุธูุงุฑ/ุฅุฎูุงุก ุงูุฅุฌุงุจุฉ ุงูุญุงููุฉ
                answer.style.display = isVisible ? 'none' : 'block';
                
                // ุชุบููุฑ ุงูุฃููููุฉ
                this.classList.toggle('active', !isVisible);
            });
        });
    }, 1000);
    
    // 9. ูุธุงู ุงูุนูู ุจุฏูู ุฅูุชุฑูุช
    window.OFFLINE_MODE = {
        isActive: !navigator.onLine,
        
        init() {
            console.log('๐ ูุธุงู ุนุฏู ุงูุงุชุตุงู:', this.isActive ? 'ูุดุท' : 'ุบูุฑ ูุดุท');
            
            // ูุฑุงูุจุฉ ุญุงูุฉ ุงูุงุชุตุงู
            window.addEventListener('online', () => {
                document.getElementById('offlineMessage').classList.add('hidden');
                this.showMessage('โ ุชู ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช');
            });
            
            window.addEventListener('offline', () => {
                document.getElementById('offlineMessage').classList.remove('hidden');
                this.showMessage('โก ุฃูุช ุงูุขู ูู ูุถุน ุนุฏู ุงูุงุชุตุงู');
            });
            
            // ุฅุฐุง ูุงู ุบูุฑ ูุชุตูุ ุนุฑุถ ุงูุฑุณุงูุฉ
            if (this.isActive) {
                document.getElementById('offlineMessage').classList.remove('hidden');
            }
        },
        
        showMessage(text) {
            // ุนุฑุถ ุฑุณุงูุฉ ูุคูุชุฉ
            const toast = document.createElement('div');
            toast.className = 'toast info';
            toast.innerHTML = text;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.remove(), 3000);
        }
    };
    
    // ุจุฏุก ูุธุงู ุนุฏู ุงูุงุชุตุงู
    setTimeout(() => window.OFFLINE_MODE.init(), 500);
    
    // 10. ุชุญุฏูุซ ุงูุชุงุฑูุฎ ูุงูููุช
    function updateDateTime() {
        const now = new Date();
        const options = { 
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit',
            hour12: true
        };
        
        try {
            const dateTimeString = now.toLocaleDateString('ar-SA', options);
            const currentDateTimeEl = document.getElementById('currentDateTime');
            if (currentDateTimeEl) {
                currentDateTimeEl.textContent = dateTimeString;
            }
        } catch (error) {
            console.error('ุฎุทุฃ ูู ุชุญุฏูุซ ุงูุชุงุฑูุฎ:', error);
        }
    }
    
    // ุชุญุฏูุซ ุงูุชุงุฑูุฎ ูู ุฏูููุฉ
    updateDateTime();
    setInterval(updateDateTime, 60000);
    
    console.log('โ ุฌููุน ุงูุฃุฒุฑุงุฑ ููุนูุฉ ูุฌุงูุฒุฉ ููุนูู');
}, 500);
</script>

<!-- ุชุญููู ุงูููู ุงูุฑุฆูุณู JavaScript -->
<script src="script1.js"></script>

</body>
</html>
